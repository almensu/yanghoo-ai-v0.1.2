# 前端组件层次结构图

```
                              App
                               |
                 ┌─────────────┼─────────────┐
                 |             |             |
              Header        Router        Footer
                              |
                 ┌────────────┴─────────────┐
                 |                          |
               Home                      Detail
                 |                          |
        ┌────────┼────────┐        ┌────────┼────────┐
        |        |        |        |        |        |
  LibraryList  Filters  Actions  LeftPanel CenterPanel RightPanel
        |                          |        |          |
    ┌────┴───┐               VideoPlayer TextContent  Summary
    |        |                    |        |          |
ContentCard ListView        VideoControls Transcript TopicTags
                                                      |
                                                   ChatPanel
```

## 数据流示意图

```
┌─────────────────┐       ┌─────────────────┐       ┌─────────────────┐
│                 │       │                 │       │                 │
│     API 层      │──────▶│    状态层       │──────▶│    视图层       │
│                 │       │                 │       │                 │
└─────────────────┘       └─────────────────┘       └─────────────────┘
       │                         │                         │
       ▼                         ▼                         ▼
┌─────────────────┐       ┌─────────────────┐       ┌─────────────────┐
│  manifestApi.ts │       │ ManifestContext │       │    组件树       │
│  libraryApi.ts  │       │ LibraryContext  │       │                 │
│   taskApi.ts    │       │   UIContext     │       │                 │
└─────────────────┘       └─────────────────┘       └─────────────────┘
```

## 主要页面布局

### 主页 (Home.tsx)
```
┌─────────────────────────────────────────────────────────────┐
│ Header (导航栏、搜索框)                                      │
├─────────────────────────────────────────────────────────────┤
│ ┌─────────────────┐ ┌─────────────────────────────────────┐ │
│ │                 │ │                                     │ │
│ │  筛选面板        │ │             内容卡片网格            │ │
│ │  - 平台          │ │            (Grid View)             │ │
│ │  - 标签          │ │                                     │ │
│ │  - 状态          │ │                                     │ │
│ │  - 日期范围      │ │                                     │ │
│ │                 │ │                                     │ │
│ └─────────────────┘ └─────────────────────────────────────┘ │
│                      ┌─────────────────────────────────────┐ │
│                      │                                     │ │
│                      │             列表视图                │ │
│                      │           (List View)               │ │
│                      │                                     │ │
│                      └─────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ Footer (版本信息、链接)                                      │
└─────────────────────────────────────────────────────────────┘
```

### 详情页 (Detail.tsx) - 三栏布局
```
┌─────────────────────────────────────────────────────────────┐
│ Header (导航栏、返回按钮)                                    │
├─────────────┬─────────────────────────┬─────────────────────┤
│             │                         │                     │
│             │                         │                     │
│  左栏:       │  中栏:                  │  右栏:              │
│  视频区域    │  Markdown内容           │  摘要与元数据        │
│             │                         │                     │
│  - 视频播放器 │  - 字幕显示             │  - 结构化摘要        │
│  - 控制按钮   │  - 全文内容             │  - 重要话题          │
│  - 截图集     │  - 文章编辑器           │  - 标签云            │
│             │                         │  - 对话面板          │
│             │                         │                     │
│             │                         │                     │
├─────────────┴─────────────────────────┴─────────────────────┤
│ Footer                                                      │
└─────────────────────────────────────────────────────────────┘
```

## UI组件与FileItem类型映射关系

```
┌────────────────────┐       ┌────────────────────┐
│                    │       │                    │
│    VideoPlayer     │◀──────│   original_media   │
│                    │       │                    │
└────────────────────┘       └────────────────────┘
        ▲                            ▲
        │                            │
        │                            │
┌────────────────────┐       ┌────────────────────┐
│                    │       │                    │
│    info_json       │──────▶│  platform_specific │
│                    │       │      player        │
└────────────────────┘       └────────────────────┘


┌────────────────────┐       ┌────────────────────┐
│                    │       │                    │
│ transcript_merged  │──────▶│  TranscriptViewer  │
│        _vtt        │       │                    │
└────────────────────┘       └────────────────────┘


┌────────────────────┐       ┌────────────────────┐
│                    │       │                    │
│  text_content_md   │──────▶│  MarkdownViewer    │
│                    │       │                    │
└────────────────────┘       └────────────────────┘


┌────────────────────┐       ┌────────────────────┐
│                    │       │                    │
│  summary_rich_json │──────▶│   SummaryViewer    │
│                    │       │                    │
└────────────────────┘       └────────────────────┘


┌────────────────────┐       ┌────────────────────┐
│                    │       │                    │
│  topic_tags_json   │──────▶│    TopicTags       │
│                    │       │                    │
└────────────────────┘       └────────────────────┘
``` 